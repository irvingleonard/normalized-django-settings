# This workflow builds and uploads python artifacts

name: Publish Production Package
on:
  push:
    branches:
      - stable

env:
  PYTHON_VERSION: 3.13
  TAG_REGEX: ^v[0-9]+\.[0-9]+\.[0-9]+(\.post[0-9]+)?$

jobs:
  build-n-publish-package:
    permissions:
      actions: write
      contents: write
      id-token: write
    uses: irvingleonard/reusable-workflows/.github/workflows/python-build-publish-stable-package.yml@v1
    with:
      package-name: ${{ vars.PACKAGE_NAME }}
    secrets:
      github-token: ${{ secrets.GITHUB_TOKEN }}
      pypi-token: ${{ secrets.PYPI_TOKEN }}